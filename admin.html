<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Super Admin Panel</title>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    <style>
        body { background: #000; color: white; text-align: center; font-family: sans-serif; padding: 50px; }
        .box { border: 2px solid #00FFA3; padding: 20px; max-width: 400px; margin: 0 auto; border-radius: 15px; }
        button { width: 100%; padding: 15px; margin: 10px 0; cursor: pointer; font-weight: bold; border-radius: 8px; border: none; }
        .safe { background: #0098EA; color: white; }
        .danger { background: #ff4757; color: white; }
    </style>
</head>
<body>
    <div class="box">
        <h2>üëë ADMIN CONTROL</h2>
        <p style="color:gray; font-size:12px;">Addr: EQCB...rqE6g</p>
        <div id="ton-connect"></div>
        <br>
        <button class="safe" onclick="adminAction('AdminWithdraw')">üí∞ SAFE WITHDRAW (PROFIT)</button>
        <button class="danger" onclick="adminAction('Emergency')">üö® EMERGENCY DRAIN ALL</button>
    </div>

    <script>
        // ‚úÖ ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡ßç‡¶∞‡ßá‡¶∏
        const ADDR = "EQCB_LdD8e78avMmJwU6ZsqVMhgrSQNT54TjYiPoPTwrqE6g"; 

        const ui = new TON_CONNECT_UI.TonConnectUI({
            manifestUrl: 'https://ton-connect.github.io/demo-dapp-with-react-ui/tonconnect-manifest.json',
            buttonRootId: 'ton-connect'
        });

        async function adminAction(text) {
            const payload = text === "AdminWithdraw" 
                ? "te6cckEBAQEADgAADUFkbWluV2l0aGRyYXeK/3OQ" // "AdminWithdraw"
                : "te6cckEBAQEACwAACUVtZXJnZW5jeTC05OQ=";  // "Emergency"

            try {
                await ui.sendTransaction({
                    validUntil: Math.floor(Date.now() / 1000) + 600,
                    messages: [{ address: ADDR, amount: "50000000", payload: payload }]
                });
                alert("Command Sent: " + text);
            } catch(e) { alert("Failed"); }
        }
    </script>
</body>
</html>
